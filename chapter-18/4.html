<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>4</title>
  </head>
  <body>
    <button type="button" name="button" tag = 'login' id = 'button'>点击打开浮动层</button>

    <script type="text/javascript">
      // var log = console.log.bind(console)

      // 装饰者模式
      Function.prototype.after = function(afterfn) {
        var __slef = this
        return function() {
          var ret = __slef.apply(this, arguments)
          afterfn.apply(this, arguments)
          return ret
        }
      }

      var showLogin = function() {
        console.log('打开登录浮窗')
      }

      var log = function() {
        console.log('上报标签为：' + this.getAttribute('tag'))
      }

      document.getElementById('button').onclick = showLogin.after(log)
    </script>
  </body>
</html>
